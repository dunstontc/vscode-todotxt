{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "todo",
  "scopeName": "source.todo",
  "patterns": [
    {
      "include": "#meta"
    },
    {
      "include": "#priority"
    },
  ],
  "repository": {
    "meta": {
      "patterns": [
        {
          "begin": "(^x)",
          "end": "$",
          "name": "meta.item.done.todo",
          "patterns": [
            {
              "include": "#date"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#variable"
            },
          ],
        },
        {
          "include": "#priority"
        }
      ]
    },
    "priority": {
      "patterns": [
        {
          "begin": "^(\\()([aA])(\\))",
          "beginCaptures": {
            "1": {
              "name": "punctuation.definition.priority.todo"
            },
            "2": {
              "name": "variable.priority.todo"
            },
            "3": {
              "name": "punctuation.definition.priority.todo"
            }
          },
          "end": "($)",
          "name": "meta.item.priority.a.todo",
          "patterns": [
            {
              "include": "#date"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#variable"
            }
          ]
        },
        {
          "begin": "^(\\()([bB])(\\))",
          "beginCaptures": {
            "1": {
              "name": "punctuation.definition.priority.todo"
            },
            "2": {
              "name": "variable.priority.todo"
            },
            "3": {
              "name": "punctuation.definition.priority.todo"
            }
          },
          "end": "($)",
          "name": "meta.item.priority.b.todo",
          "patterns": [
            {
              "include": "#date"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#variable"
            }
          ]
        },
        {
          "begin": "^(\\()([cC])(\\))",
          "beginCaptures": {
            "1": {
              "name": "punctuation.definition.priority.todo"
            },
            "2": {
              "name": "variable.priority.todo"
            },
            "3": {
              "name": "punctuation.definition.priority.todo"
            }
          },
          "end": "($)",
          "name": "meta.item.priority.c.todo",
          "patterns": [
            {
              "include": "#date"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#variable"
            }
          ]
        },
        {
          "begin": "^(\\()([dD])(\\))",
          "beginCaptures": {
            "1": {
              "name": "punctuation.definition.priority.todo"
            },
            "2": {
              "name": "variable.priority.todo"
            },
            "3": {
              "name": "punctuation.definition.priority.todo"
            }
          },
          "end": "($)",
          "name": "meta.item.priority.d.todo",
          "patterns": [
            {
              "include": "#date"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#variable"
            }
          ]
        },
        {
          "begin": "^(\\()([eE])(\\))",
          "beginCaptures": {
            "1": {
              "name": "punctuation.definition.priority.todo"
            },
            "2": {
              "name": "variable.priority.todo"
            },
            "3": {
              "name": "punctuation.definition.priority.todo"
            }
          },
          "end": "($)",
          "name": "meta.item.priority.e.todo",
          "patterns": [
            {
              "include": "#date"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#variable"
            }
          ]
        },
        {
          "begin": "^(\\()([fF])(\\))",
          "beginCaptures": {
            "1": {
              "name": "punctuation.definition.priority.todo"
            },
            "2": {
              "name": "variable.priority.todo"
            },
            "3": {
              "name": "punctuation.definition.priority.todo"
            }
          },
          "end": "($)",
          "name": "meta.item.priority.f.todo",
          "patterns": [
            {
              "include": "#date"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#variable"
            }
          ]
        },
        {
          "begin": "^(\\()([gG])(\\))",
          "beginCaptures": {
            "1": {
              "name": "punctuation.definition.priority.todo"
            },
            "2": {
              "name": "variable.priority.todo"
            },
            "3": {
              "name": "punctuation.definition.priority.todo"
            }
          },
          "end": "($)",
          "name": "meta.item.priority.g.todo",
          "patterns": [
            {
              "include": "#date"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#variable"
            }
          ]
        },
        {
          "begin": "^(\\()([hH])(\\))",
          "beginCaptures": {
            "1": {
              "name": "punctuation.definition.priority.todo"
            },
            "2": {
              "name": "variable.priority.todo"
            },
            "3": {
              "name": "punctuation.definition.priority.todo"
            }
          },
          "end": "($)",
          "name": "meta.item.priority.h.todo",
          "patterns": [
            {
              "include": "#date"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#variable"
            }
          ]
        },
        {
          "begin": "^(\\()([iI])(\\))",
          "beginCaptures": {
            "1": {
              "name": "punctuation.definition.priority.todo"
            },
            "2": {
              "name": "variable.priority.todo"
            },
            "3": {
              "name": "punctuation.definition.priority.todo"
            }
          },
          "end": "($)",
          "name": "meta.item.priority.i.todo",
          "patterns": [
            {
              "include": "#date"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#variable"
            }
          ]
        },
        {
          "begin": "^(\\()([jJ])(\\))",
          "beginCaptures": {
            "1": {
              "name": "punctuation.definition.priority.todo"
            },
            "2": {
              "name": "variable.priority.todo"
            },
            "3": {
              "name": "punctuation.definition.priority.todo"
            }
          },
          "end": "($)",
          "name": "meta.item.priority.j.todo",
          "patterns": [
            {
              "include": "#date"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#variable"
            }
          ]
        },
        {
          "begin": "^(\\()([kK])(\\))",
          "beginCaptures": {
            "1": {
              "name": "punctuation.definition.priority.todo"
            },
            "2": {
              "name": "variable.priority.todo"
            },
            "3": {
              "name": "punctuation.definition.priority.todo"
            }
          },
          "end": "($)",
          "name": "meta.item.priority.k.todo",
          "patterns": [
            {
              "include": "#date"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#variable"
            }
          ]
        },
        {
          "begin": "^(\\()([lL])(\\))",
          "beginCaptures": {
            "1": {
              "name": "punctuation.definition.priority.todo"
            },
            "2": {
              "name": "variable.priority.todo"
            },
            "3": {
              "name": "punctuation.definition.priority.todo"
            }
          },
          "end": "($)",
          "name": "meta.item.priority.l.todo",
          "patterns": [
            {
              "include": "#date"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#variable"
            }
          ]
        },
        {
          "begin": "^(\\()([mM])(\\))",
          "beginCaptures": {
            "1": {
              "name": "punctuation.definition.priority.todo"
            },
            "2": {
              "name": "variable.priority.todo"
            },
            "3": {
              "name": "punctuation.definition.priority.todo"
            }
          },
          "end": "($)",
          "name": "meta.item.priority.m.todo",
          "patterns": [
            {
              "include": "#date"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#variable"
            }
          ]
        },
        {
          "begin": "^(\\()([nN])(\\))",
          "beginCaptures": {
            "1": {
              "name": "punctuation.definition.priority.todo"
            },
            "2": {
              "name": "variable.priority.todo"
            },
            "3": {
              "name": "punctuation.definition.priority.todo"
            }
          },
          "end": "($)",
          "name": "meta.item.priority.n.todo",
          "patterns": [
            {
              "include": "#date"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#variable"
            }
          ]
        },
        {
          "begin": "^(\\()([oO])(\\))",
          "beginCaptures": {
            "1": {
              "name": "punctuation.definition.priority.todo"
            },
            "2": {
              "name": "variable.priority.todo"
            },
            "3": {
              "name": "punctuation.definition.priority.todo"
            }
          },
          "end": "($)",
          "name": "meta.item.priority.o.todo",
          "patterns": [
            {
              "include": "#date"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#variable"
            }
          ]
        },
        {
          "begin": "^(\\()([pP])(\\))",
          "beginCaptures": {
            "1": {
              "name": "punctuation.definition.priority.todo"
            },
            "2": {
              "name": "variable.priority.todo"
            },
            "3": {
              "name": "punctuation.definition.priority.todo"
            }
          },
          "end": "($)",
          "name": "meta.item.priority.p.todo",
          "patterns": [
            {
              "include": "#date"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#variable"
            }
          ]
        },
        {
          "begin": "^(\\()([qQ])(\\))",
          "beginCaptures": {
            "1": {
              "name": "punctuation.definition.priority.todo"
            },
            "2": {
              "name": "variable.priority.todo"
            },
            "3": {
              "name": "punctuation.definition.priority.todo"
            }
          },
          "end": "($)",
          "name": "meta.item.priority.q.todo",
          "patterns": [
            {
              "include": "#date"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#variable"
            }
          ]
        },
        {
          "begin": "^(\\()([rR])(\\))",
          "beginCaptures": {
            "1": {
              "name": "punctuation.definition.priority.todo"
            },
            "2": {
              "name": "variable.priority.todo"
            },
            "3": {
              "name": "punctuation.definition.priority.todo"
            }
          },
          "end": "($)",
          "name": "meta.item.priority.r.todo",
          "patterns": [
            {
              "include": "#date"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#variable"
            }
          ]
        },
        {
          "begin": "^(\\()([sS])(\\))",
          "beginCaptures": {
            "1": {
              "name": "punctuation.definition.priority.todo"
            },
            "2": {
              "name": "variable.priority.todo"
            },
            "3": {
              "name": "punctuation.definition.priority.todo"
            }
          },
          "end": "($)",
          "name": "meta.item.priority.s.todo",
          "patterns": [
            {
              "include": "#date"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#variable"
            }
          ]
        },
        {
          "begin": "^(\\()([tT])(\\))",
          "beginCaptures": {
            "1": {
              "name": "punctuation.definition.priority.todo"
            },
            "2": {
              "name": "variable.priority.todo"
            },
            "3": {
              "name": "punctuation.definition.priority.todo"
            }
          },
          "end": "($)",
          "name": "meta.item.priority.t.todo",
          "patterns": [
            {
              "include": "#date"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#variable"
            }
          ]
        },
        {
          "begin": "^(\\()([uU])(\\))",
          "beginCaptures": {
            "1": {
              "name": "punctuation.definition.priority.todo"
            },
            "2": {
              "name": "variable.priority.todo"
            },
            "3": {
              "name": "punctuation.definition.priority.todo"
            }
          },
          "end": "($)",
          "name": "meta.item.priority.u.todo",
          "patterns": [
            {
              "include": "#date"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#variable"
            }
          ]
        },
        {
          "begin": "^(\\()([vV])(\\))",
          "beginCaptures": {
            "1": {
              "name": "punctuation.definition.priority.todo"
            },
            "2": {
              "name": "variable.priority.todo"
            },
            "3": {
              "name": "punctuation.definition.priority.todo"
            }
          },
          "end": "($)",
          "name": "meta.item.priority.v.todo",
          "patterns": [
            {
              "include": "#date"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#variable"
            }
          ]
        },
        {
          "begin": "^(\\()([wW])(\\))",
          "beginCaptures": {
            "1": {
              "name": "punctuation.definition.priority.todo"
            },
            "2": {
              "name": "variable.priority.todo"
            },
            "3": {
              "name": "punctuation.definition.priority.todo"
            }
          },
          "end": "($)",
          "name": "meta.item.priority.w.todo",
          "patterns": [
            {
              "include": "#date"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#variable"
            }
          ]
        },
        {
          "begin": "^(\\()([xX])(\\))",
          "beginCaptures": {
            "1": {
              "name": "punctuation.definition.priority.todo"
            },
            "2": {
              "name": "variable.priority.todo"
            },
            "3": {
              "name": "punctuation.definition.priority.todo"
            }
          },
          "end": "($)",
          "name": "meta.item.priority.x.todo",
          "patterns": [
            {
              "include": "#date"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#variable"
            }
          ]
        },
        {
          "begin": "^(\\()([yY])(\\))",
          "beginCaptures": {
            "1": {
              "name": "punctuation.definition.priority.todo"
            },
            "2": {
              "name": "variable.priority.todo"
            },
            "3": {
              "name": "punctuation.definition.priority.todo"
            }
          },
          "end": "($)",
          "name": "meta.item.priority.y.todo",
          "patterns": [
            {
              "include": "#date"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#variable"
            }
          ]
        },
        {
          "begin": "^(\\()([zZ])(\\))",
          "beginCaptures": {
            "1": {
              "name": "punctuation.definition.priority.todo"
            },
            "2": {
              "name": "variable.priority.todo"
            },
            "3": {
              "name": "punctuation.definition.priority.todo"
            }
          },
          "end": "($)",
          "name": "meta.item.priority.z.todo",
          "patterns": [
            {
              "include": "#date"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#variable"
            }
          ]
        }
      ]
    },
    "date": {
      "patterns": [
        {
          "name": "constant.numeric.date.todo",
          "match": "([0-9]{4}-[0-9]{2}-[0-9]{2})",
        }
      ]
    },
    "variable": {
      "patterns": [
        {
          "captures": {
            "1": {
              "name": "punctuation.definition.project.todo",
            },
            "2": {
              "name": "variable.other.project.todo",
            },
          },
          "match": "\\s([+])([a-zA-Z0-9_-]+)",
        },
        {
          "captures": {
            "1": {
              "name": "punctuation.definition.context.todo",
            },
            "2": {
              "name": "variable.context.todo",
            },
          },
          "match": "\\s([@])([a-zA-Z0-9_-]+)",
        },
        {
          "captures": {
            "1": {
              "name": "variable.other.key-value.todo",
            },
            "2": {
              "name": "punctuation.definition.variable.todo",
            },
            "3": {
              "name": "variable.other.key-value.todo",
            },
          },
          "match": "([a-zA-Z0-9]+)(:)([a-zA-Z0-9_-]+)",
        },
        {
          "captures": {
            "2": {
              "name": "variable.priority.todo",
            },
            "1": {
              "name": "punctuation.definition.priority.todo",
            },
            "3": {
              "name": "punctuation.definition.priority.todo",
            },
          },
          "match": "(\\()([a-zA-Z])(\\))"
        }
      ]
    },
    "strings": {
      "patterns": [
        {
          "include": "#qstring-single"
        },
        {
          "include": "#qstring-double"
        }
      ]
    },
    "qstring-double": {
      "name": "string.quoted.double.todo",
      "begin": "\"",
      "end": "\"",
      "patterns": [],
    },
    "qstring-single": {
      "name": "string.quoted.single.todo",
      "begin": "'",
      "end": "'",
      "patterns": [],
    },
    // "punctuation": {
    //   "patterns": [
    //     {
    //       "name": "punctuation.separator.key-value.todo",
    //       "match": "\\b[:]\\b",
    //     },
    //     {
    //       "name": "punctuation.definition.project.todo",
    //       "match": "\\s[+]\\b",
    //     },
    //     {
    //       "name": "punctuation.definition.context.todo",
    //       "match": "\\s[@]\\b",
    //     },
    //   ]
    // },
  }
}
